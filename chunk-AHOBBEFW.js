import{b as yt,c as ke,d as bt,e as wt,f as Pt,g as Le,l as Ct,o as Ae}from"./chunk-H463EI3O.js";import{a as vt,b as Dt}from"./chunk-OD7G6SDU.js";import{f as Me}from"./chunk-BMSJ7MDQ.js";import{B as k,G as xe,J as Te,K as Ee,M as Ie,O as Re,P as Oe,Q,S as Bt,ea as ut,fa as ft,g as mt,l as be,n as we,p as gt,r as K,t as M,u as Pe,w as Ce,x as Gt,y as G,z as Se}from"./chunk-O5P5XHWS.js";import{$ as C,$a as Vt,$b as pt,Ab as j,Ba as Ht,Bb as W,Cb as _,Db as m,Eb as ct,Fb as dt,G as I,Ha as de,Hb as w,Ib as Z,Ma as U,Mb as me,Nb as ge,Ob as ue,R as Nt,S as ae,Sb as v,T as y,Tb as A,Ub as ht,V as le,Vb as fe,Y as Ft,Z as ot,Za as f,Zb as z,a as Y,ab as zt,ac as _t,ca as c,d as N,eb as rt,f as At,fc as X,hc as E,i as p,ic as ve,j as ne,ja as ce,jb as S,k as oe,ka as F,kb as at,la as H,lb as R,nb as he,qa as st,qc as q,r as it,s as se,sb as lt,tb as T,ub as pe,uc as De,va as u,vb as O,wa as V,wc as ye,y as re,z as nt,za as L,zb as _e}from"./chunk-SKWGJZYW.js";function Xe(s){let i=s.cloneNode(!0),t=i.querySelectorAll("[id]"),e=s.nodeName.toLowerCase();i.removeAttribute("id");for(let n=0;n<t.length;n++)t[n].removeAttribute("id");return e==="canvas"?He(s,i):(e==="input"||e==="select"||e==="textarea")&&Fe(s,i),Ne("canvas",s,i,He),Ne("input, textarea, select",s,i,Fe),i}function Ne(s,i,t,e){let n=i.querySelectorAll(s);if(n.length){let o=t.querySelectorAll(s);for(let r=0;r<n.length;r++)e(n[r],o[r])}}var bi=0;function Fe(s,i){i.type!=="file"&&(i.value=s.value),i.type==="radio"&&i.name&&(i.name=`mat-clone-${i.name}-${bi++}`)}function He(s,i){let t=i.getContext("2d");if(t)try{t.drawImage(s,0,0)}catch{}}function Kt(s){let i=s.getBoundingClientRect();return{top:i.top,right:i.right,bottom:i.bottom,left:i.left,width:i.width,height:i.height,x:i.x,y:i.y}}function Ut(s,i,t){let{top:e,bottom:n,left:o,right:r}=s;return t>=e&&t<=n&&i>=o&&i<=r}function et(s,i,t){s.top+=i,s.bottom=s.top+s.height,s.left+=t,s.right=s.left+s.width}function Ve(s,i,t,e){let{top:n,right:o,bottom:r,left:a,width:l,height:d}=s,h=l*i,D=d*i;return e>n-D&&e<r+D&&t>a-h&&t<o+h}var St=class{_document;positions=new Map;constructor(i){this._document=i}clear(){this.positions.clear()}cache(i){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),i.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:Kt(t)})})}handleScroll(i){let t=K(i),e=this.positions.get(t);if(!e)return null;let n=e.scrollPosition,o,r;if(t===this._document){let d=this.getViewportScrollPosition();o=d.top,r=d.left}else o=t.scrollTop,r=t.scrollLeft;let a=n.top-o,l=n.left-r;return this.positions.forEach((d,h)=>{d.clientRect&&t!==h&&t.contains(h)&&et(d.clientRect,a,l)}),n.top=o,n.left=r,{top:a,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function qe(s,i){let t=s.rootNodes;if(t.length===1&&t[0].nodeType===i.ELEMENT_NODE)return t[0];let e=i.createElement("div");return t.forEach(n=>e.appendChild(n)),e}function Qt(s,i,t){for(let e in i)if(i.hasOwnProperty(e)){let n=i[e];n?s.setProperty(e,n,t?.has(e)?"important":""):s.removeProperty(e)}return s}function B(s,i){let t=i?"":"none";Qt(s.style,{"touch-action":i?"":"none","-webkit-user-drag":i?"":"none","-webkit-tap-highlight-color":i?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function ze(s,i,t){Qt(s.style,{position:i?"":"fixed",top:i?"":"0",opacity:i?"":"0",left:i?"":"-999em"},t)}function xt(s,i){return i&&i!="none"?s+" "+i:s}function Ge(s,i){s.style.width=`${i.width}px`,s.style.height=`${i.height}px`,s.style.transform=Tt(i.left,i.top)}function Tt(s,i){return`translate3d(${Math.round(s)}px, ${Math.round(i)}px, 0)`}function Be(s){let i=s.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(s)*i}function wi(s){let i=getComputedStyle(s),t=$t(i,"transition-property"),e=t.find(a=>a==="transform"||a==="all");if(!e)return 0;let n=t.indexOf(e),o=$t(i,"transition-duration"),r=$t(i,"transition-delay");return Be(o[n])+Be(r[n])}function $t(s,i){return s.getPropertyValue(i).split(",").map(e=>e.trim())}var Pi=new Set(["position"]),jt=class{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView;_preview;get element(){return this._preview}constructor(i,t,e,n,o,r,a,l,d,h){this._document=i,this._rootElement=t,this._direction=e,this._initialDomRect=n,this._previewTemplate=o,this._previewClass=r,this._pickupPositionOnPage=a,this._initialTransform=l,this._zIndex=d,this._renderer=h}attach(i){this._preview=this._createPreview(),i.appendChild(this._preview),$e(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(i){this._preview.style.transform=i}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(i){this._preview.classList.add(i)}getTransitionDuration(){return wi(this._preview)}addEventListener(i,t){return this._renderer.listen(this._preview,i,t)}_createPreview(){let i=this._previewTemplate,t=this._previewClass,e=i?i.template:null,n;if(e&&i){let o=i.matchSize?this._initialDomRect:null,r=i.viewContainer.createEmbeddedView(e,i.context);r.detectChanges(),n=qe(r,this._document),this._previewEmbeddedView=r,i.matchSize?Ge(n,o):n.style.transform=Tt(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else n=Xe(this._rootElement),Ge(n,this._initialDomRect),this._initialTransform&&(n.style.transform=this._initialTransform);return Qt(n.style,{"pointer-events":"none",margin:$e(n)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},Pi),B(n,!1),n.classList.add("cdk-drag-preview"),n.setAttribute("popover","manual"),n.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(o=>n.classList.add(o)):n.classList.add(t)),n}};function $e(s){return"showPopover"in s}var Ci={passive:!0},Ye={passive:!1},Si={passive:!1,capture:!0},xi=800,Ue=new Set(["position"]),Wt=class{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_rootElementCleanups;_cleanupShadowRootSelectStart;_preview;_previewContainer;_placeholderRef;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_anchor;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=Ht(!1);_hasMoved;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new p;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement;_rootElementTapHighlight;_pointerMoveSubscription=N.EMPTY;_pointerUpSubscription=N.EMPTY;_scrollSubscription=N.EMPTY;_resizeSubscription=N.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef;_cachedShadowRoot;lockAxis;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(i){i!==this._disabled&&(this._disabled=i,this._toggleNativeDragInteractions(),this._handles.forEach(t=>B(t,i)))}_disabled=!1;beforeStarted=new p;started=new p;released=new p;ended=new p;entered=new p;exited=new p;dropped=new p;moved=this._moveEvents;data;constrainPosition;constructor(i,t,e,n,o,r,a){this._config=t,this._document=e,this._ngZone=n,this._viewportRuler=o,this._dragDropRegistry=r,this._renderer=a,this.withRootElement(i).withParent(t.parentDragRef||null),this._parentPositions=new St(e),r.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(i){this._handles=i.map(e=>k(e)),this._handles.forEach(e=>B(e,this.disabled)),this._toggleNativeDragInteractions();let t=new Set;return this._disabledHandles.forEach(e=>{this._handles.indexOf(e)>-1&&t.add(e)}),this._disabledHandles=t,this}withPreviewTemplate(i){return this._previewTemplate=i,this}withPlaceholderTemplate(i){return this._placeholderTemplate=i,this}withRootElement(i){let t=k(i);return t!==this._rootElement&&(this._removeRootElementListeners(),this._rootElementCleanups=this._ngZone.runOutsideAngular(()=>[M(this._renderer,t,"mousedown",this._pointerDown,Ye),M(this._renderer,t,"touchstart",this._pointerDown,Ci),M(this._renderer,t,"dragstart",this._nativeDragStart,Ye)]),this._initialTransform=void 0,this._rootElement=t),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(i){return this._boundaryElement=i?k(i):null,this._resizeSubscription.unsubscribe(),i&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(i){return this._parentDragRef=i,this}dispose(){this._removeRootElementListeners(),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(i){!this._disabledHandles.has(i)&&this._handles.indexOf(i)>-1&&(this._disabledHandles.add(i),B(i,!0))}enableHandle(i){this._disabledHandles.has(i)&&(this._disabledHandles.delete(i),B(i,this.disabled))}withDirection(i){return this._direction=i,this}_withDropContainer(i){this._dropContainer=i}getFreeDragPosition(){let i=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:i.x,y:i.y}}setFreeDragPosition(i){return this._activeTransform={x:0,y:0},this._passiveTransform.x=i.x,this._passiveTransform.y=i.y,this._dropContainer||this._applyRootElementTransform(i.x,i.y),this}withPreviewContainer(i){return this._previewContainer=i,this}_sortFromLastPointerPosition(){let i=this._lastKnownPointerPosition;i&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(i),i)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._cleanupShadowRootSelectStart?.(),this._cleanupShadowRootSelectStart=void 0}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_pointerDown=i=>{if(this.beforeStarted.next(),this._handles.length){let t=this._getTargetHandle(i);t&&!this._disabledHandles.has(t)&&!this.disabled&&this._initializeDragSequence(t,i)}else this.disabled||this._initializeDragSequence(this._rootElement,i)};_pointerMove=i=>{let t=this._getPointerPositionOnPage(i);if(!this._hasStartedDragging()){let n=Math.abs(t.x-this._pickupPositionOnPage.x),o=Math.abs(t.y-this._pickupPositionOnPage.y);if(n+o>=this._config.dragStartThreshold){let a=Date.now()>=this._dragStartTime+this._getDragStartDelay(i),l=this._dropContainer;if(!a){this._endDragSequence(i);return}(!l||!l.isDragging()&&!l.isReceiving())&&(i.cancelable&&i.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(i)))}return}i.cancelable&&i.preventDefault();let e=this._getConstrainedPointerPosition(t);if(this._hasMoved=!0,this._lastKnownPointerPosition=t,this._updatePointerDirectionDelta(e),this._dropContainer)this._updateActiveDropContainer(e,t);else{let n=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,o=this._activeTransform;o.x=e.x-n.x+this._passiveTransform.x,o.y=e.y-n.y+this._passiveTransform.y,this._applyRootElementTransform(o.x,o.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:e,event:i,distance:this._getDragDistance(e),delta:this._pointerDirectionDelta})})};_pointerUp=i=>{this._endDragSequence(i)};_endDragSequence(i){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging()))if(this.released.next({source:this,event:i}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(i),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let t=this._getPointerPositionOnPage(i);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t,event:i})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(i){J(i)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let t=this._getShadowRoot(),e=this._dropContainer;if(t&&this._ngZone.runOutsideAngular(()=>{this._cleanupShadowRootSelectStart=M(this._renderer,t,"selectstart",Ti,Si)}),e){let n=this._rootElement,o=n.parentNode,r=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment("");o.insertBefore(a,n),this._initialTransform=n.style.transform||"",this._preview=new jt(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(o,t)),ze(n,!1,Ue),this._document.body.appendChild(o.replaceChild(r,n)),this.started.next({source:this,event:i}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this,event:i}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(i,t){this._parentDragRef&&t.stopPropagation();let e=this.isDragging(),n=J(t),o=!n&&t.button!==0,r=this._rootElement,a=K(t),l=!n&&this._lastTouchEventTime&&this._lastTouchEventTime+xi>Date.now(),d=n?Ee(t):Te(t);if(a&&a.draggable&&t.type==="mousedown"&&t.preventDefault(),e||o||l||d)return;if(this._handles.length){let x=r.style;this._rootElementTapHighlight=x.webkitTapHighlightColor||"",x.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(x=>this._updateOnScroll(x)),this._boundaryElement&&(this._boundaryRect=Kt(this._boundaryElement));let h=this._previewTemplate;this._pickupPositionInElement=h&&h.template&&!h.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,i,t);let D=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:D.x,y:D.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(i){ze(this._rootElement,!0,Ue),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let t=this._dropContainer,e=t.getItemIndex(this),n=this._getPointerPositionOnPage(i),o=this._getDragDistance(n),r=t._isOverContainer(n.x,n.y);this.ended.next({source:this,distance:o,dropPoint:n,event:i}),this.dropped.next({item:this,currentIndex:e,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:r,distance:o,dropPoint:n,event:i}),t.drop(this,e,this._initialIndex,this._initialContainer,r,o,n,i),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:i,y:t},{x:e,y:n}){let o=this._initialContainer._getSiblingContainerFromPosition(this,i,t);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(i,t)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=o,this._dropContainer.enter(this,i,t,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(e,n),this._dropContainer._sortItem(this,i,t,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(i,t):this._applyPreviewTransform(i-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let i=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(i.left,i.top);let t=this._preview.getTransitionDuration();return t===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(e=>{let n=a=>{(!a||this._preview&&K(a)===this._preview.element&&a.propertyName==="transform")&&(r(),e(),clearTimeout(o))},o=setTimeout(n,t*1.5),r=this._preview.addEventListener("transitionend",n)}))}_createPlaceholderElement(){let i=this._placeholderTemplate,t=i?i.template:null,e;return t?(this._placeholderRef=i.viewContainer.createEmbeddedView(t,i.context),this._placeholderRef.detectChanges(),e=qe(this._placeholderRef,this._document)):e=Xe(this._rootElement),e.style.pointerEvents="none",e.classList.add("cdk-drag-placeholder"),e}_getPointerPositionInElement(i,t,e){let n=t===this._rootElement?null:t,o=n?n.getBoundingClientRect():i,r=J(e)?e.targetTouches[0]:e,a=this._getViewportScrollPosition(),l=r.pageX-o.left-a.left,d=r.pageY-o.top-a.top;return{x:o.left-i.left+l,y:o.top-i.top+d}}_getPointerPositionOnPage(i){let t=this._getViewportScrollPosition(),e=J(i)?i.touches[0]||i.changedTouches[0]||{pageX:0,pageY:0}:i,n=e.pageX-t.left,o=e.pageY-t.top;if(this._ownerSVGElement){let r=this._ownerSVGElement.getScreenCTM();if(r){let a=this._ownerSVGElement.createSVGPoint();return a.x=n,a.y=o,a.matrixTransform(r.inverse())}}return{x:n,y:o}}_getConstrainedPointerPosition(i){let t=this._dropContainer?this._dropContainer.lockAxis:null,{x:e,y:n}=this.constrainPosition?this.constrainPosition(i,this,this._initialDomRect,this._pickupPositionInElement):i;if(this.lockAxis==="x"||t==="x"?n=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||t==="y")&&(e=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:o,y:r}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,a=this._boundaryRect,{width:l,height:d}=this._getPreviewRect(),h=a.top+r,D=a.bottom-(d-r),x=a.left+o,kt=a.right-(l-o);e=je(e,x,kt),n=je(n,h,D)}return{x:e,y:n}}_updatePointerDirectionDelta(i){let{x:t,y:e}=i,n=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,r=Math.abs(t-o.x),a=Math.abs(e-o.y);return r>this._config.pointerDirectionChangeThreshold&&(n.x=t>o.x?1:-1,o.x=t),a>this._config.pointerDirectionChangeThreshold&&(n.y=e>o.y?1:-1,o.y=e),n}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let i=this._handles.length>0||!this.isDragging();i!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=i,B(this._rootElement,i))}_removeRootElementListeners(){this._rootElementCleanups?.forEach(i=>i()),this._rootElementCleanups=void 0}_applyRootElementTransform(i,t){let e=1/this.scale,n=Tt(i*e,t*e),o=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=o.transform&&o.transform!="none"?o.transform:""),o.transform=xt(n,this._initialTransform)}_applyPreviewTransform(i,t){let e=this._previewTemplate?.template?void 0:this._initialTransform,n=Tt(i,t);this._preview.setTransform(xt(n,e))}_getDragDistance(i){let t=this._pickupPositionOnPage;return t?{x:i.x-t.x,y:i.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:i,y:t}=this._passiveTransform;if(i===0&&t===0||this.isDragging()||!this._boundaryElement)return;let e=this._rootElement.getBoundingClientRect(),n=this._boundaryElement.getBoundingClientRect();if(n.width===0&&n.height===0||e.width===0&&e.height===0)return;let o=n.left-e.left,r=e.right-n.right,a=n.top-e.top,l=e.bottom-n.bottom;n.width>e.width?(o>0&&(i+=o),r>0&&(i-=r)):i=0,n.height>e.height?(a>0&&(t+=a),l>0&&(t-=l)):t=0,(i!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:i})}_getDragStartDelay(i){let t=this.dragStartDelay;return typeof t=="number"?t:J(i)?t.touch:t?t.mouse:0}_updateOnScroll(i){let t=this._parentPositions.handleScroll(i);if(t){let e=K(i);this._boundaryRect&&e!==this._boundaryElement&&e.contains(this._boundaryElement)&&et(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=gt(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(i,t){let e=this._previewContainer||"global";if(e==="parent")return i;if(e==="global"){let n=this._document;return t||n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement||n.body}return k(e)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=i=>{if(this._handles.length){let t=this._getTargetHandle(i);t&&!this._disabledHandles.has(t)&&!this.disabled&&i.preventDefault()}else this.disabled||i.preventDefault()};_getTargetHandle(i){return this._handles.find(t=>i.target&&(i.target===t||t.contains(i.target)))}};function je(s,i,t){return Math.max(i,Math.min(t,s))}function J(s){return s.type[0]==="t"}function Ti(s){s.preventDefault()}function Ke(s,i,t){let e=We(i,s.length-1),n=We(t,s.length-1);if(e===n)return;let o=s[e],r=n<e?-1:1;for(let a=e;a!==n;a+=r)s[a]=s[a+r];s[n]=o}function We(s,i){return Math.max(0,Math.min(i,s))}var Et=class{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction;constructor(i){this._dragDropRegistry=i}_previousSwap={drag:null,delta:0,overlaps:!1};start(i){this.withItems(i)}sort(i,t,e,n){let o=this._itemPositions,r=this._getItemIndexFromPointerPosition(i,t,e,n);if(r===-1&&o.length>0)return null;let a=this.orientation==="horizontal",l=o.findIndex(b=>b.drag===i),d=o[r],h=o[l].clientRect,D=d.clientRect,x=l>r?1:-1,kt=this._getItemOffsetPx(h,D,x),vi=this._getSiblingOffsetPx(l,o,x),Di=o.slice();return Ke(o,l,r),o.forEach((b,yi)=>{if(Di[yi]===b)return;let te=b.drag===i,Lt=te?kt:vi,ee=te?i.getPlaceholderElement():b.drag.getRootElement();b.offset+=Lt;let ie=Math.round(b.offset*(1/b.drag.scale));a?(ee.style.transform=xt(`translate3d(${ie}px, 0, 0)`,b.initialTransform),et(b.clientRect,0,Lt)):(ee.style.transform=xt(`translate3d(0, ${ie}px, 0)`,b.initialTransform),et(b.clientRect,Lt,0))}),this._previousSwap.overlaps=Ut(D,t,e),this._previousSwap.drag=d.drag,this._previousSwap.delta=a?n.x:n.y,{previousIndex:l,currentIndex:r}}enter(i,t,e,n){let o=n==null||n<0?this._getItemIndexFromPointerPosition(i,t,e):n,r=this._activeDraggables,a=r.indexOf(i),l=i.getPlaceholderElement(),d=r[o];if(d===i&&(d=r[o+1]),!d&&(o==null||o===-1||o<r.length-1)&&this._shouldEnterAsFirstChild(t,e)&&(d=r[0]),a>-1&&r.splice(a,1),d&&!this._dragDropRegistry.isDragging(d)){let h=d.getRootElement();h.parentElement.insertBefore(l,h),r.splice(o,0,i)}else this._element.appendChild(l),r.push(i);l.style.transform="",this._cacheItemPositions()}withItems(i){this._activeDraggables=i.slice(),this._cacheItemPositions()}withSortPredicate(i){this._sortPredicate=i}reset(){this._activeDraggables?.forEach(i=>{let t=i.getRootElement();if(t){let e=this._itemPositions.find(n=>n.drag===i)?.initialTransform;t.style.transform=e||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(i){return(this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions).findIndex(e=>e.drag===i)}updateOnScroll(i,t){this._itemPositions.forEach(({clientRect:e})=>{et(e,i,t)}),this._itemPositions.forEach(({drag:e})=>{this._dragDropRegistry.isDragging(e)&&e._sortFromLastPointerPosition()})}withElementContainer(i){this._element=i}_cacheItemPositions(){let i=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(t=>{let e=t.getVisibleElement();return{drag:t,offset:0,initialTransform:e.style.transform||"",clientRect:Kt(e)}}).sort((t,e)=>i?t.clientRect.left-e.clientRect.left:t.clientRect.top-e.clientRect.top)}_getItemOffsetPx(i,t,e){let n=this.orientation==="horizontal",o=n?t.left-i.left:t.top-i.top;return e===-1&&(o+=n?t.width-i.width:t.height-i.height),o}_getSiblingOffsetPx(i,t,e){let n=this.orientation==="horizontal",o=t[i].clientRect,r=t[i+e*-1],a=o[n?"width":"height"]*e;if(r){let l=n?"left":"top",d=n?"right":"bottom";e===-1?a-=r.clientRect[l]-o[d]:a+=o[l]-r.clientRect[d]}return a}_shouldEnterAsFirstChild(i,t){if(!this._activeDraggables.length)return!1;let e=this._itemPositions,n=this.orientation==="horizontal";if(e[0].drag!==this._activeDraggables[0]){let r=e[e.length-1].clientRect;return n?i>=r.right:t>=r.bottom}else{let r=e[0].clientRect;return n?i<=r.left:t<=r.top}}_getItemIndexFromPointerPosition(i,t,e,n){let o=this.orientation==="horizontal",r=this._itemPositions.findIndex(({drag:a,clientRect:l})=>{if(a===i)return!1;if(n){let d=o?n.x:n.y;if(a===this._previousSwap.drag&&this._previousSwap.overlaps&&d===this._previousSwap.delta)return!1}return o?t>=Math.floor(l.left)&&t<Math.floor(l.right):e>=Math.floor(l.top)&&e<Math.floor(l.bottom)});return r===-1||!this._sortPredicate(r,i)?-1:r}},Zt=class{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(i,t){this._document=i,this._dragDropRegistry=t}start(i){let t=this._element.childNodes;this._relatedNodes=[];for(let e=0;e<t.length;e++){let n=t[e];this._relatedNodes.push([n,n.nextSibling])}this.withItems(i)}sort(i,t,e,n){let o=this._getItemIndexFromPointerPosition(i,t,e),r=this._previousSwap;if(o===-1||this._activeItems[o]===i)return null;let a=this._activeItems[o];if(r.drag===a&&r.overlaps&&r.deltaX===n.x&&r.deltaY===n.y)return null;let l=this.getItemIndex(i),d=i.getPlaceholderElement(),h=a.getRootElement();o>l?h.after(d):h.before(d),Ke(this._activeItems,l,o);let D=this._getRootNode().elementFromPoint(t,e);return r.deltaX=n.x,r.deltaY=n.y,r.drag=a,r.overlaps=h===D||h.contains(D),{previousIndex:l,currentIndex:o}}enter(i,t,e,n){let o=n==null||n<0?this._getItemIndexFromPointerPosition(i,t,e):n;o===-1&&(o=this._getClosestItemIndexToPointer(i,t,e));let r=this._activeItems[o],a=this._activeItems.indexOf(i);a>-1&&this._activeItems.splice(a,1),r&&!this._dragDropRegistry.isDragging(r)?(this._activeItems.splice(o,0,i),r.getRootElement().before(i.getPlaceholderElement())):(this._activeItems.push(i),this._element.appendChild(i.getPlaceholderElement()))}withItems(i){this._activeItems=i.slice()}withSortPredicate(i){this._sortPredicate=i}reset(){let i=this._element,t=this._previousSwap;for(let e=this._relatedNodes.length-1;e>-1;e--){let[n,o]=this._relatedNodes[e];n.parentNode===i&&n.nextSibling!==o&&(o===null?i.appendChild(n):o.parentNode===i&&i.insertBefore(n,o))}this._relatedNodes=[],this._activeItems=[],t.drag=null,t.deltaX=t.deltaY=0,t.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(i){return this._activeItems.indexOf(i)}updateOnScroll(){this._activeItems.forEach(i=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}withElementContainer(i){i!==this._element&&(this._element=i,this._rootNode=void 0)}_getItemIndexFromPointerPosition(i,t,e){let n=this._getRootNode().elementFromPoint(Math.floor(t),Math.floor(e)),o=n?this._activeItems.findIndex(r=>{let a=r.getRootElement();return n===a||a.contains(n)}):-1;return o===-1||!this._sortPredicate(o,i)?-1:o}_getRootNode(){return this._rootNode||(this._rootNode=gt(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(i,t,e){if(this._activeItems.length===0)return-1;if(this._activeItems.length===1)return 0;let n=1/0,o=-1;for(let r=0;r<this._activeItems.length;r++){let a=this._activeItems[r];if(a!==i){let{x:l,y:d}=a.getRootElement().getBoundingClientRect(),h=Math.hypot(t-l,e-d);h<n&&(n=h,o=r)}}return o}},Ze=.05,Qe=.05,P=function(s){return s[s.NONE=0]="NONE",s[s.UP=1]="UP",s[s.DOWN=2]="DOWN",s}(P||{}),g=function(s){return s[s.NONE=0]="NONE",s[s.LEFT=1]="LEFT",s[s.RIGHT=2]="RIGHT",s}(g||{}),Xt=class{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis;autoScrollDisabled=!1;autoScrollStep=2;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new p;entered=new p;exited=new p;dropped=new p;sorted=new p;receivingStarted=new p;receivingStopped=new p;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=N.EMPTY;_verticalScrollDirection=P.NONE;_horizontalScrollDirection=g.NONE;_scrollNode;_stopScrollTimers=new p;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(i,t,e,n,o){this._dragDropRegistry=t,this._ngZone=n,this._viewportRuler=o;let r=this.element=k(i);this._document=e,this.withOrientation("vertical").withElementContainer(r),t.registerDropContainer(this),this._parentPositions=new St(e)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(i,t,e,n){this._draggingStarted(),n==null&&this.sortingDisabled&&(n=this._draggables.indexOf(i)),this._sortStrategy.enter(i,t,e,n),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:i,container:this,currentIndex:this.getItemIndex(i)})}exit(i){this._reset(),this.exited.next({item:i,container:this})}drop(i,t,e,n,o,r,a,l={}){this._reset(),this.dropped.next({item:i,currentIndex:t,previousIndex:e,container:this,previousContainer:n,isPointerOverContainer:o,distance:r,dropPoint:a,event:l})}withItems(i){let t=this._draggables;return this._draggables=i,i.forEach(e=>e._withDropContainer(this)),this.isDragging()&&(t.filter(n=>n.isDragging()).every(n=>i.indexOf(n)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(i){return this._direction=i,this._sortStrategy instanceof Et&&(this._sortStrategy.direction=i),this}connectedTo(i){return this._siblings=i.slice(),this}withOrientation(i){if(i==="mixed")this._sortStrategy=new Zt(this._document,this._dragDropRegistry);else{let t=new Et(this._dragDropRegistry);t.direction=this._direction,t.orientation=i,this._sortStrategy=t}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((t,e)=>this.sortPredicate(t,e,this)),this}withScrollableParents(i){let t=this._container;return this._scrollableElements=i.indexOf(t)===-1?[t,...i]:i.slice(),this}withElementContainer(i){if(i===this._container)return this;let t=k(this.element),e=this._scrollableElements.indexOf(this._container),n=this._scrollableElements.indexOf(i);return e>-1&&this._scrollableElements.splice(e,1),n>-1&&this._scrollableElements.splice(n,1),this._sortStrategy&&this._sortStrategy.withElementContainer(i),this._cachedShadowRoot=null,this._scrollableElements.unshift(i),this._container=i,this}getScrollableParents(){return this._scrollableElements}getItemIndex(i){return this._isDragging?this._sortStrategy.getItemIndex(i):this._draggables.indexOf(i)}isReceiving(){return this._activeSiblings.size>0}_sortItem(i,t,e,n){if(this.sortingDisabled||!this._domRect||!Ve(this._domRect,Ze,t,e))return;let o=this._sortStrategy.sort(i,t,e,n);o&&this.sorted.next({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:i})}_startScrollingIfNecessary(i,t){if(this.autoScrollDisabled)return;let e,n=P.NONE,o=g.NONE;if(this._parentPositions.positions.forEach((r,a)=>{a===this._document||!r.clientRect||e||Ve(r.clientRect,Ze,i,t)&&([n,o]=Ei(a,r.clientRect,this._direction,i,t),(n||o)&&(e=a))}),!n&&!o){let{width:r,height:a}=this._viewportRuler.getViewportSize(),l={width:r,height:a,top:0,right:r,bottom:a,left:0};n=Je(l,t),o=ti(l,i),e=window}e&&(n!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||e!==this._scrollNode)&&(this._verticalScrollDirection=n,this._horizontalScrollDirection=o,this._scrollNode=e,(n||o)&&e?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let i=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=i.msScrollSnapType||i.scrollSnapType||"",i.scrollSnapType=i.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;let i=this._container.style;i.scrollSnapType=i.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(t=>t._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),re(0,oe).pipe(y(this._stopScrollTimers)).subscribe(()=>{let i=this._scrollNode,t=this.autoScrollStep;this._verticalScrollDirection===P.UP?i.scrollBy(0,-t):this._verticalScrollDirection===P.DOWN&&i.scrollBy(0,t),this._horizontalScrollDirection===g.LEFT?i.scrollBy(-t,0):this._horizontalScrollDirection===g.RIGHT&&i.scrollBy(t,0)})};_isOverContainer(i,t){return this._domRect!=null&&Ut(this._domRect,i,t)}_getSiblingContainerFromPosition(i,t,e){return this._siblings.find(n=>n._canReceive(i,t,e))}_canReceive(i,t,e){if(!this._domRect||!Ut(this._domRect,t,e)||!this.enterPredicate(i,this))return!1;let n=this._getShadowRoot().elementFromPoint(t,e);return n?n===this._container||this._container.contains(n):!1}_startReceiving(i,t){let e=this._activeSiblings;!e.has(i)&&t.every(n=>this.enterPredicate(n,this)||this._draggables.indexOf(n)>-1)&&(e.add(i),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:i,receiver:this,items:t}))}_stopReceiving(i){this._activeSiblings.delete(i),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:i,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(i=>{if(this.isDragging()){let t=this._parentPositions.handleScroll(i);t&&this._sortStrategy.updateOnScroll(t.top,t.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let i=gt(this._container);this._cachedShadowRoot=i||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let i=this._sortStrategy.getActiveItemsSnapshot().filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,i))}};function Je(s,i){let{top:t,bottom:e,height:n}=s,o=n*Qe;return i>=t-o&&i<=t+o?P.UP:i>=e-o&&i<=e+o?P.DOWN:P.NONE}function ti(s,i){let{left:t,right:e,width:n}=s,o=n*Qe;return i>=t-o&&i<=t+o?g.LEFT:i>=e-o&&i<=e+o?g.RIGHT:g.NONE}function Ei(s,i,t,e,n){let o=Je(i,n),r=ti(i,e),a=P.NONE,l=g.NONE;if(o){let d=s.scrollTop;o===P.UP?d>0&&(a=P.UP):s.scrollHeight-d>s.clientHeight&&(a=P.DOWN)}if(r){let d=s.scrollLeft;t==="rtl"?r===g.RIGHT?d<0&&(l=g.RIGHT):s.scrollWidth+d>s.clientWidth&&(l=g.LEFT):r===g.LEFT?d>0&&(l=g.LEFT):s.scrollWidth-d>s.clientWidth&&(l=g.RIGHT)}return[a,l]}var tt={capture:!0},Yt={passive:!1,capture:!0},Ii=(()=>{class s{static \u0275fac=function(e){return new(e||s)};static \u0275cmp=S({type:s,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(e,n){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}"],encapsulation:2,changeDetection:0})}return s})(),ei=(()=>{class s{_ngZone=c(V);_document=c(q);_styleLoader=c(Pe);_renderer=c(zt).createRenderer(null,null);_cleanupDocumentTouchmove;_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=Ht([]);_globalListeners;_draggingPredicate=t=>t.isDragging();_domNodesToDirectives=null;pointerMove=new p;pointerUp=new p;scroll=new p;constructor(){}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._cleanupDocumentTouchmove?.(),this._cleanupDocumentTouchmove=M(this._renderer,this._document,"touchmove",this._persistentTouchmoveListener,Yt)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),this._dragInstances.size===0&&this._cleanupDocumentTouchmove?.()}startDragging(t,e){if(!(this._activeDragInstances().indexOf(t)>-1)&&(this._styleLoader.load(Ii),this._activeDragInstances.update(n=>[...n,t]),this._activeDragInstances().length===1)){let n=e.type.startsWith("touch"),o=a=>this.pointerUp.next(a),r=[["scroll",a=>this.scroll.next(a),tt],["selectstart",this._preventDefaultWhileDragging,Yt]];n?r.push(["touchend",o,tt],["touchcancel",o,tt]):r.push(["mouseup",o,tt]),n||r.push(["mousemove",a=>this.pointerMove.next(a),Yt]),this._ngZone.runOutsideAngular(()=>{this._globalListeners=r.map(([a,l,d])=>M(this._renderer,this._document,a,l,d))})}}stopDragging(t){this._activeDragInstances.update(e=>{let n=e.indexOf(t);return n>-1?(e.splice(n,1),[...e]):e}),this._activeDragInstances().length===0&&this._clearGlobalListeners()}isDragging(t){return this._activeDragInstances().indexOf(t)>-1}scrolled(t){let e=[this.scroll];return t&&t!==this._document&&e.push(new At(n=>this._ngZone.runOutsideAngular(()=>{let o=M(this._renderer,t,"scroll",r=>{this._activeDragInstances().length&&n.next(r)},tt);return()=>{o()}}))),nt(...e)}registerDirectiveNode(t,e){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(t,e)}removeDirectiveNode(t){this._domNodesToDirectives?.delete(t)}getDragDirectiveForNode(t){return this._domNodesToDirectives?.get(t)||null}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=t=>{this._activeDragInstances().length>0&&t.preventDefault()};_persistentTouchmoveListener=t=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&t.preventDefault(),this.pointerMove.next(t))};_clearGlobalListeners(){this._globalListeners?.forEach(t=>t()),this._globalListeners=void 0}static \u0275fac=function(e){return new(e||s)};static \u0275prov=Ft({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),Ri={dragStartThreshold:5,pointerDirectionChangeThreshold:5},Jt=(()=>{class s{_document=c(q);_ngZone=c(V);_viewportRuler=c(ke);_dragDropRegistry=c(ei);_renderer=c(zt).createRenderer(null,null);constructor(){}createDrag(t,e=Ri){return new Wt(t,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry,this._renderer)}createDropList(t){return new Xt(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static \u0275fac=function(e){return new(e||s)};static \u0275prov=Ft({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),It=new C("CDK_DRAG_PARENT");var Oi=new C("CdkDragHandle");var ii=new C("CDK_DRAG_CONFIG"),ni=new C("CdkDropList"),oi=(()=>{class s{element=c(L);dropContainer=c(ni,{optional:!0,skipSelf:!0});_ngZone=c(V);_viewContainerRef=c(rt);_dir=c(Q,{optional:!0});_changeDetectorRef=c(X);_selfHandle=c(Oi,{optional:!0,self:!0});_parentDrag=c(It,{optional:!0,skipSelf:!0});_dragDropRegistry=c(ei);_destroyed=new p;_handles=new ne([]);_previewTemplate;_placeholderTemplate;_dragRef;data;lockAxis;rootElementSelector;boundaryElement;dragStartDelay;freeDragPosition;get disabled(){return this._disabled||!!(this.dropContainer&&this.dropContainer.disabled)}set disabled(t){this._disabled=t,this._dragRef.disabled=this._disabled}_disabled;constrainPosition;previewClass;previewContainer;scale=1;started=new u;released=new u;ended=new u;entered=new u;exited=new u;dropped=new u;moved=new At(t=>{let e=this._dragRef.moved.pipe(it(n=>({source:this,pointerPosition:n.pointerPosition,event:n.event,delta:n.delta,distance:n.distance}))).subscribe(t);return()=>{e.unsubscribe()}});_injector=c(st);constructor(){let t=this.dropContainer,e=c(ii,{optional:!0}),n=c(Jt);this._dragRef=n.createDrag(this.element,{dragStartThreshold:e&&e.dragStartThreshold!=null?e.dragStartThreshold:5,pointerDirectionChangeThreshold:e&&e.pointerDirectionChangeThreshold!=null?e.pointerDirectionChangeThreshold:5,zIndex:e?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),e&&this._assignDefaults(e),t&&(this._dragRef._withDropContainer(t._dropListRef),t.addItem(this),t._dropListRef.beforeStarted.pipe(y(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(t){this._dragRef.setFreeDragPosition(t)}ngAfterViewInit(){U(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(t){let e=t.rootElementSelector,n=t.freeDragPosition;e&&!e.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,n&&!n.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(t){let e=this._handles.getValue();e.push(t),this._handles.next(e)}_removeHandle(t){let e=this._handles.getValue(),n=e.indexOf(t);n>-1&&(e.splice(n,1),this._handles.next(e))}_setPreviewTemplate(t){this._previewTemplate=t}_resetPreviewTemplate(t){t===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(t){this._placeholderTemplate=t}_resetPlaceholderTemplate(t){t===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){let t=this.element.nativeElement,e=t;this.rootElementSelector&&(e=t.closest!==void 0?t.closest(this.rootElementSelector):t.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(e||t)}_getBoundaryElement(){let t=this.boundaryElement;return t?typeof t=="string"?this.element.nativeElement.closest(t):k(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){let e=this._dir,n=this.dragStartDelay,o=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,r=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.scale=this.scale,t.dragStartDelay=typeof n=="object"&&n?n:G(n),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(o).withPreviewTemplate(r).withPreviewContainer(this.previewContainer||"global"),e&&t.withDirection(e.value)}}),t.beforeStarted.pipe(I(1)).subscribe(()=>{if(this._parentDrag){t.withParent(this._parentDrag._dragRef);return}let e=this.element.nativeElement.parentElement;for(;e;){let n=this._dragDropRegistry.getDragDirectiveForNode(e);if(n){t.withParent(n._dragRef);break}e=e.parentElement}})}_handleEvents(t){t.started.subscribe(e=>{this.started.emit({source:this,event:e.event}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(e=>{this.released.emit({source:this,event:e.event})}),t.ended.subscribe(e=>{this.ended.emit({source:this,distance:e.distance,dropPoint:e.dropPoint,event:e.event}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(e=>{this.entered.emit({container:e.container.data,item:this,currentIndex:e.currentIndex})}),t.exited.subscribe(e=>{this.exited.emit({container:e.container.data,item:this})}),t.dropped.subscribe(e=>{this.dropped.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,previousContainer:e.previousContainer.data,container:e.container.data,isPointerOverContainer:e.isPointerOverContainer,item:this,distance:e.distance,dropPoint:e.dropPoint,event:e.event})})}_assignDefaults(t){let{lockAxis:e,dragStartDelay:n,constrainPosition:o,previewClass:r,boundaryElement:a,draggingDisabled:l,rootElementSelector:d,previewContainer:h}=t;this.disabled=l??!1,this.dragStartDelay=n||0,e&&(this.lockAxis=e),o&&(this.constrainPosition=o),r&&(this.previewClass=r),a&&(this.boundaryElement=a),d&&(this.rootElementSelector=d),h&&(this.previewContainer=h)}_setupHandlesListener(){this._handles.pipe(le(t=>{let e=t.map(n=>n.element);this._selfHandle&&this.rootElementSelector&&e.push(this.element),this._dragRef.withHandles(e)}),ae(t=>nt(...t.map(e=>e._stateChanges.pipe(Nt(e))))),y(this._destroyed)).subscribe(t=>{let e=this._dragRef,n=t.element.nativeElement;t.disabled?e.disableHandle(n):e.enableHandle(n)})}static \u0275fac=function(e){return new(e||s)};static \u0275dir=R({type:s,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,n){e&2&&O("cdk-drag-disabled",n.disabled)("cdk-drag-dragging",n._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",E],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",ve]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[z([{provide:It,useExisting:s}]),ce]})}return s})(),qt=new C("CdkDropListGroup"),si=(()=>{class s{_items=new Set;disabled=!1;ngOnDestroy(){this._items.clear()}static \u0275fac=function(e){return new(e||s)};static \u0275dir=R({type:s,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:[2,"cdkDropListGroupDisabled","disabled",E]},exportAs:["cdkDropListGroup"],features:[z([{provide:qt,useExisting:s}])]})}return s})(),ri=(()=>{class s{element=c(L);_changeDetectorRef=c(X);_scrollDispatcher=c(yt);_dir=c(Q,{optional:!0});_group=c(qt,{optional:!0,skipSelf:!0});_destroyed=new p;_scrollableParentsResolved;static _dropLists=[];_dropListRef;connectedTo=[];data;orientation;id=c(Oe).getId("cdk-drop-list-");lockAxis;get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=t}_disabled;sortingDisabled;enterPredicate=()=>!0;sortPredicate=()=>!0;autoScrollDisabled;autoScrollStep;elementContainerSelector;dropped=new u;entered=new u;exited=new u;sorted=new u;_unsortedItems=new Set;constructor(){let t=c(Jt),e=c(ii,{optional:!0});this._dropListRef=t.createDropList(this.element),this._dropListRef.data=this,e&&this._assignDefaults(e),this._dropListRef.enterPredicate=(n,o)=>this.enterPredicate(n.data,o.data),this._dropListRef.sortPredicate=(n,o,r)=>this.sortPredicate(n,o.data,r.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),s._dropLists.push(this),this._group&&this._group._items.add(this)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(t){this._unsortedItems.delete(t),this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((t,e)=>t._dragRef.getVisibleElement().compareDocumentPosition(e._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){let t=s._dropLists.indexOf(this);t>-1&&s._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(t){this._dir&&this._dir.change.pipe(Nt(this._dir.value),y(this._destroyed)).subscribe(e=>t.withDirection(e)),t.beforeStarted.subscribe(()=>{let e=Se(this.connectedTo).map(n=>{if(typeof n=="string"){let o=s._dropLists.find(r=>r.id===n);return o}return n});if(this._group&&this._group._items.forEach(n=>{e.indexOf(n)===-1&&e.push(n)}),!this._scrollableParentsResolved){let n=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(o=>o.getElementRef().nativeElement);this._dropListRef.withScrollableParents(n),this._scrollableParentsResolved=!0}if(this.elementContainerSelector){let n=this.element.nativeElement.querySelector(this.elementContainerSelector);t.withElementContainer(n)}t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.sortingDisabled=this.sortingDisabled,t.autoScrollDisabled=this.autoScrollDisabled,t.autoScrollStep=G(this.autoScrollStep,2),t.connectedTo(e.filter(n=>n&&n!==this).map(n=>n._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(e=>{this.entered.emit({container:this,item:e.item.data,currentIndex:e.currentIndex})}),t.exited.subscribe(e=>{this.exited.emit({container:this,item:e.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(e=>{this.sorted.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,container:this,item:e.item.data})}),t.dropped.subscribe(e=>{this.dropped.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,previousContainer:e.previousContainer.data,container:e.container.data,item:e.item.data,isPointerOverContainer:e.isPointerOverContainer,distance:e.distance,dropPoint:e.dropPoint,event:e.event}),this._changeDetectorRef.markForCheck()}),nt(t.receivingStarted,t.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(t){let{lockAxis:e,draggingDisabled:n,sortingDisabled:o,listAutoScrollDisabled:r,listOrientation:a}=t;this.disabled=n??!1,this.sortingDisabled=o??!1,this.autoScrollDisabled=r??!1,this.orientation=a||"vertical",e&&(this.lockAxis=e)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(t=>t._dragRef))}static \u0275fac=function(e){return new(e||s)};static \u0275dir=R({type:s,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(e,n){e&2&&(lt("id",n.id),O("cdk-drop-list-disabled",n.disabled)("cdk-drop-list-dragging",n._dropListRef.isDragging())("cdk-drop-list-receiving",n._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",E],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",E],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",E],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[z([{provide:qt,useValue:void 0},{provide:ni,useExisting:s}])]})}return s})(),Mi=new C("CdkDragPreview"),ai=(()=>{class s{templateRef=c(Vt);_drag=c(It,{optional:!0});data;matchSize=!1;constructor(){this._drag?._setPreviewTemplate(this)}ngOnDestroy(){this._drag?._resetPreviewTemplate(this)}static \u0275fac=function(e){return new(e||s)};static \u0275dir=R({type:s,selectors:[["ng-template","cdkDragPreview",""]],inputs:{data:"data",matchSize:[2,"matchSize","matchSize",E]},features:[z([{provide:Mi,useExisting:s}])]})}return s})(),ki=new C("CdkDragPlaceholder"),li=(()=>{class s{templateRef=c(Vt);_drag=c(It,{optional:!0});data;constructor(){this._drag?._setPlaceholderTemplate(this)}ngOnDestroy(){this._drag?._resetPlaceholderTemplate(this)}static \u0275fac=function(e){return new(e||s)};static \u0275dir=R({type:s,selectors:[["ng-template","cdkDragPlaceholder",""]],inputs:{data:"data"},features:[z([{provide:ki,useExisting:s}])]})}return s})();var $=(()=>{class s{static \u0275fac=function(e){return new(e||s)};static \u0275mod=at({type:s});static \u0275inj=ot({providers:[Jt],imports:[bt]})}return s})();var Ai=["tooltip"],pi=20;var _i=new C("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let s=c(Ct);return()=>s.scrollStrategies.reposition({scrollThrottle:pi})}});function Ni(s){return()=>s.scrollStrategies.reposition({scrollThrottle:pi})}var Fi={provide:_i,deps:[Ct],useFactory:Ni};function Hi(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}var Vi=new C("mat-tooltip-default-options",{providedIn:"root",factory:Hi});var di="tooltip-panel",hi=we({passive:!0}),zi=8,Gi=8,Bi=24,$i=200,mi=(()=>{class s{_elementRef=c(L);_ngZone=c(V);_platform=c(be);_ariaDescriber=c(xe);_focusMonitor=c(Ie);_dir=c(Q);_injector=c(st);_viewContainerRef=c(rt);_defaultOptions=c(Vi,{optional:!0});_overlayRef;_tooltipInstance;_portal;_position="below";_positionAtOrigin=!1;_disabled=!1;_tooltipClass;_viewInitialized=!1;_pointerExitEventsInitialized=!1;_tooltipComponent=Yi;_viewportMargin=8;_currentPosition;_cssClassPrefix="mat-mdc";_ariaDescriptionPending;_dirSubscribed=!1;get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(t){this._positionAtOrigin=Gt(t),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(t){let e=Gt(t);this._disabled!==e&&(this._disabled=e,e?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(t){this._showDelay=G(t)}_showDelay;get hideDelay(){return this._hideDelay}set hideDelay(t){this._hideDelay=G(t),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}_hideDelay;touchGestures="auto";get message(){return this._message}set message(t){let e=this._message;this._message=t!=null?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(e)}_message="";get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}_passiveListeners=[];_touchstartTimeout=null;_destroyed=new p;_isDestroyed=!1;constructor(){let t=this._defaultOptions;t&&(this._showDelay=t.showDelay,this._hideDelay=t.hideDelay,t.position&&(this.position=t.position),t.positionAtOrigin&&(this.positionAtOrigin=t.positionAtOrigin),t.touchGestures&&(this.touchGestures=t.touchGestures),t.tooltipClass&&(this.tooltipClass=t.tooltipClass)),this._viewportMargin=zi}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(y(this._destroyed)).subscribe(t=>{t?t==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let t=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([e,n])=>{t.removeEventListener(e,n,hi)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0,this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay,e){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let n=this._createOverlay(e);this._detach(),this._portal=this._portal||new Le(this._tooltipComponent,this._viewContainerRef);let o=this._tooltipInstance=n.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(y(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(t)}hide(t=this.hideDelay){let e=this._tooltipInstance;e&&(e.isVisible()?e.hide(t):(e._cancelPendingAnimations(),this._detach()))}toggle(t){this._isTooltipVisible()?this.hide():this.show(void 0,t)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(t){if(this._overlayRef){let r=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!t)&&r._origin instanceof L)return this._overlayRef;this._detach()}let e=this._injector.get(yt).getAncestorScrollContainers(this._elementRef),n=this._injector.get(Ct),o=n.position().flexibleConnectedTo(this.positionAtOrigin?t||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(e);return o.positionChanges.pipe(y(this._destroyed)).subscribe(r=>{this._updateCurrentPositionClass(r.connectionPair),this._tooltipInstance&&r.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=n.create({direction:this._dir,positionStrategy:o,panelClass:`${this._cssClassPrefix}-${di}`,scrollStrategy:this._injector.get(_i)()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(y(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(y(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(y(this._destroyed)).subscribe(r=>{this._isTooltipVisible()&&r.keyCode===27&&!Ce(r)&&(r.preventDefault(),r.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._dirSubscribed||(this._dirSubscribed=!0,this._dir.change.pipe(y(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){let e=t.getConfig().positionStrategy,n=this._getOrigin(),o=this._getOverlayPosition();e.withPositions([this._addOffset(Y(Y({},n.main),o.main)),this._addOffset(Y(Y({},n.fallback),o.fallback))])}_addOffset(t){let e=Gi,n=!this._dir||this._dir.value=="ltr";return t.originY==="top"?t.offsetY=-e:t.originY==="bottom"?t.offsetY=e:t.originX==="start"?t.offsetX=n?-e:e:t.originX==="end"&&(t.offsetX=n?e:-e),t}_getOrigin(){let t=!this._dir||this._dir.value=="ltr",e=this.position,n;e=="above"||e=="below"?n={originX:"center",originY:e=="above"?"top":"bottom"}:e=="before"||e=="left"&&t||e=="right"&&!t?n={originX:"start",originY:"center"}:(e=="after"||e=="right"&&t||e=="left"&&!t)&&(n={originX:"end",originY:"center"});let{x:o,y:r}=this._invertPosition(n.originX,n.originY);return{main:n,fallback:{originX:o,originY:r}}}_getOverlayPosition(){let t=!this._dir||this._dir.value=="ltr",e=this.position,n;e=="above"?n={overlayX:"center",overlayY:"bottom"}:e=="below"?n={overlayX:"center",overlayY:"top"}:e=="before"||e=="left"&&t||e=="right"&&!t?n={overlayX:"end",overlayY:"center"}:(e=="after"||e=="right"&&t||e=="left"&&!t)&&(n={overlayX:"start",overlayY:"center"});let{x:o,y:r}=this._invertPosition(n.overlayX,n.overlayY);return{main:n,fallback:{overlayX:o,overlayY:r}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),U(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,e){return this.position==="above"||this.position==="below"?e==="top"?e="bottom":e==="bottom"&&(e="top"):t==="end"?t="start":t==="start"&&(t="end"),{x:t,y:e}}_updateCurrentPositionClass(t){let{overlayY:e,originX:n,originY:o}=t,r;if(e==="center"?this._dir&&this._dir.value==="rtl"?r=n==="end"?"left":"right":r=n==="start"?"left":"right":r=e==="bottom"&&o==="top"?"above":"below",r!==this._currentPosition){let a=this._overlayRef;if(a){let l=`${this._cssClassPrefix}-${di}-`;a.removePanelClass(l+this._currentPosition),a.addPanelClass(l+r)}this._currentPosition=r}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",t=>{this._setupPointerExitEventsIfNeeded();let e;t.x!==void 0&&t.y!==void 0&&(e=t),this.show(void 0,e)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",t=>{let e=t.targetTouches?.[0],n=e?{x:e.clientX,y:e.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let o=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,n)},this._defaultOptions?.touchLongPressShowDelay??o)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",e=>{let n=e.relatedTarget;(!n||!this._overlayRef?.overlayElement.contains(n))&&this.hide()}],["wheel",e=>this._wheelListener(e)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let e=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions?.touchendHideDelay)};t.push(["touchend",e],["touchcancel",e])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([e,n])=>{this._elementRef.nativeElement.addEventListener(e,n,hi)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){let e=this._injector.get(q).elementFromPoint(t.clientX,t.clientY),n=this._elementRef.nativeElement;e!==n&&!n.contains(e)&&this.hide()}}_disableNativeGesturesIfNecessary(){let t=this.touchGestures;if(t!=="off"){let e=this._elementRef.nativeElement,n=e.style;(t==="on"||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA")&&(n.userSelect=n.msUserSelect=n.webkitUserSelect=n.MozUserSelect="none"),(t==="on"||!e.draggable)&&(n.webkitUserDrag="none"),n.touchAction="none",n.webkitTapHighlightColor="transparent"}}_syncAriaDescription(t){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,t,"tooltip"),this._isDestroyed||U({write:()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")}},{injector:this._injector}))}static \u0275fac=function(e){return new(e||s)};static \u0275dir=R({type:s,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(e,n){e&2&&O("mat-mdc-tooltip-disabled",n.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]})}return s})(),Yi=(()=>{class s{_changeDetectorRef=c(X);_elementRef=c(L);_isMultiline=!1;message;tooltipClass;_showTimeoutId;_hideTimeoutId;_triggerElement;_mouseLeaveHideDelay;_animationsDisabled;_tooltip;_closeOnInteraction=!1;_isVisible=!1;_onHide=new p;_showAnimation="mat-mdc-tooltip-show";_hideAnimation="mat-mdc-tooltip-hide";constructor(){let t=c(de,{optional:!0});this._animationsDisabled=t==="NoopAnimations"}show(t){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},t)}hide(t){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},t)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:t}){(!t||!this._triggerElement.contains(t))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let t=this._elementRef.nativeElement.getBoundingClientRect();return t.height>Bi&&t.width>=$i}_handleAnimationEnd({animationName:t}){(t===this._showAnimation||t===this._hideAnimation)&&this._finalizeAnimation(t===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(t){t?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(t){let e=this._tooltip.nativeElement,n=this._showAnimation,o=this._hideAnimation;if(e.classList.remove(t?o:n),e.classList.add(t?n:o),this._isVisible!==t&&(this._isVisible=t,this._changeDetectorRef.markForCheck()),t&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let r=getComputedStyle(e);(r.getPropertyValue("animation-duration")==="0s"||r.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}t&&this._onShow(),this._animationsDisabled&&(e.classList.add("_mat-animation-noopable"),this._finalizeAnimation(t))}static \u0275fac=function(e){return new(e||s)};static \u0275cmp=S({type:s,selectors:[["mat-tooltip-component"]],viewQuery:function(e,n){if(e&1&&me(Ai,7),e&2){let o;ge(o=ue())&&(n._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(e,n){e&1&&w("mouseleave",function(r){return n._handleMouseLeave(r)})},decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(e,n){if(e&1){let o=dt();_(0,"div",1,0),w("animationend",function(a){return F(o),H(n._handleAnimationEnd(a))}),_(2,"div",2),v(3),m()()}e&2&&(O("mdc-tooltip--multiline",n._isMultiline),T("ngClass",n.tooltipClass),f(3),A(n.message))},dependencies:[De],styles:['.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color, var(--mat-sys-inverse-surface));color:var(--mdc-plain-tooltip-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mdc-plain-tooltip-container-shape, var(--mat-sys-corner-extra-small));font-family:var(--mdc-plain-tooltip-supporting-text-font, var(--mat-sys-body-small-font));font-size:var(--mdc-plain-tooltip-supporting-text-size, var(--mat-sys-body-small-size));font-weight:var(--mdc-plain-tooltip-supporting-text-weight, var(--mat-sys-body-small-weight));line-height:var(--mdc-plain-tooltip-supporting-text-line-height, var(--mat-sys-body-small-line-height));letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, var(--mat-sys-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel{line-height:normal}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return s})();var gi=(()=>{class s{static \u0275fac=function(e){return new(e||s)};static \u0275mod=at({type:s});static \u0275inj=ot({providers:[Fi],imports:[Re,Ae,Bt,Bt,bt]})}return s})();var Ot=class s{appointment;edit=new u;delete=new u;get timeString(){let i=this.formatTime(this.appointment.startDate),t=this.formatTime(this.appointment.endDate);return`${i} - ${t}`}formatTime(i){return i.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}handleEdit(){this.edit.emit(this.appointment.id)}handleDelete(i){this.delete.emit(i)}static \u0275fac=function(t){return new(t||s)};static \u0275cmp=S({type:s,selectors:[["app-appointment-item"]],inputs:{appointment:"appointment"},outputs:{edit:"edit",delete:"delete"},decls:9,vars:6,consts:[["tabindex","0","role","button",1,"appointment-item",3,"click","keydown.enter","keydown.space","matTooltip"],[1,"appointment-header"],[1,"appointment-time"],["mat-icon-button","","aria-label","Delete appointment",1,"delete-button",3,"click"],[1,"appointment-title"]],template:function(t,e){t&1&&(_(0,"div",0),w("click",function(){return e.handleEdit()})("keydown.enter",function(){return e.handleEdit()})("keydown.space",function(){return e.handleEdit()}),_(1,"div",1)(2,"span",2),v(3),m(),_(4,"button",3),w("click",function(o){return e.handleDelete(o)}),_(5,"mat-icon"),v(6,"close"),m()()(),_(7,"div",4),v(8),m()()),t&2&&(pe("background-color",e.appointment.color||"#2196f3"),T("matTooltip",e.appointment.description||""),lt("aria-label","Edit appointment: "+e.appointment.title),f(3),A(e.timeString),f(5),A(e.appointment.title))},dependencies:[Dt,vt,ft,ut,gi,mi,$],styles:[".appointment-item[_ngcontent-%COMP%]{border-radius:4px;padding:6px 8px;margin-bottom:4px;color:#fff;cursor:grab;box-shadow:0 1px 3px #0000001f,0 1px 2px #0000003d}.appointment-item[_ngcontent-%COMP%]:hover{box-shadow:0 3px 6px #00000029,0 3px 6px #0000003b}.appointment-item[_ngcontent-%COMP%]:hover   .delete-button[_ngcontent-%COMP%]{visibility:visible}.appointment-item[_ngcontent-%COMP%]   .appointment-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2px}.appointment-item[_ngcontent-%COMP%]   .appointment-header[_ngcontent-%COMP%]   .appointment-time[_ngcontent-%COMP%]{font-size:12px;opacity:.9}.appointment-item[_ngcontent-%COMP%]   .appointment-header[_ngcontent-%COMP%]   .appointment-title[_ngcontent-%COMP%]{font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.appointment-item[_ngcontent-%COMP%]   .appointment-header[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]{visibility:hidden;line-height:20px;width:20px;height:20px;margin:-4px}.appointment-item[_ngcontent-%COMP%]   .appointment-header[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:14px;line-height:14px;height:14px;width:14px}"]})};var Zi=(s,i)=>i.id;function Xi(s,i){if(s&1&&(_(0,"div",8),v(1),m()),s&2){let t=Z().$implicit;f(),ht(" ",t.title," ")}}function qi(s,i){s&1&&ct(0,"div",9)}function Ki(s,i){if(s&1){let t=dt();_(0,"app-appointment-item",5),w("edit",function(){let n=F(t).$implicit,o=Z();return H(o.editAppointment(n.id))})("delete",function(n){let o=F(t).$implicit,r=Z();return H(r.deleteAppointment(o.id,n))})("doubleClick",function(){F(t);let n=Z();return H(n.createNewAppointmentWithDate())}),he(1,Xi,2,1,"div",6)(2,qi,1,0,"div",7),m()}if(s&2){let t=i.$implicit;T("appointment",t)("cdkDragData",t.id)}}var Mt=class s{date=new Date;appointments=[];isCurrentMonth=!0;calendarService=c(wt);dateService=c(Pt);router=c(mt);connectedDayIds=[];get isToday(){let i=new Date;return i.getDate()===this.date.getDate()&&i.getMonth()===this.date.getMonth()&&i.getFullYear()===this.date.getFullYear()}get dayId(){return`day-${this.date.getFullYear()}-${this.date.getMonth()}-${this.date.getDate()}`}ngOnInit(){this.dateService.connectedDayIds$.pipe(I(1)).subscribe(i=>{this.connectedDayIds=i})}onDrop(i){if(console.log("Drop event occurred:",i),i.previousContainer===i.container){console.log("Same container, no action needed");return}let t=i.item.data;console.log("Appointment ID:",t),this.calendarService.getAppointmentById(t).pipe(I(1)).subscribe(e=>{if(console.log("Found appointment:",e),e){let n=e.endDate.getTime()-e.startDate.getTime(),o=new Date(this.date);o.setHours(e.startDate.getHours()),o.setMinutes(e.startDate.getMinutes());let r=new Date(o.getTime()+n);console.log("Moving appointment to new dates:",o,r),this.calendarService.moveAppointment(t,o,r)}})}editAppointment(i){this.router.navigate(["/appointment",i])}deleteAppointment(i,t){t.stopPropagation(),this.calendarService.deleteAppointment(i)}createNewAppointmentWithDate(){this.router.navigate(["/appointment"],{queryParams:{date:this.date.toISOString()}})}static \u0275fac=function(t){return new(t||s)};static \u0275cmp=S({type:s,selectors:[["app-calendar-day"]],inputs:{date:"date",appointments:"appointments",isCurrentMonth:[2,"isCurrentMonth","isCurrentMonth",E]},decls:7,vars:8,consts:[["cdkDropList","","cdkDropListSortingDisabled","","tabindex","0","role","button",1,"day-container",3,"cdkDropListDropped","dblclick","id","cdkDropListData","cdkDropListConnectedTo"],[1,"day-header"],[1,"day-number"],[1,"appointments-container"],["cdkDrag","",3,"appointment","cdkDragData"],["cdkDrag","",3,"edit","delete","doubleClick","appointment","cdkDragData"],["class","appointment-preview",4,"cdkDragPreview"],["class","appointment-placeholder",4,"cdkDragPlaceholder"],[1,"appointment-preview"],[1,"appointment-placeholder"]],template:function(t,e){t&1&&(_(0,"div",0),w("cdkDropListDropped",function(o){return e.onDrop(o)})("dblclick",function(){return e.createNewAppointmentWithDate()}),_(1,"div",1)(2,"span",2),v(3),m()(),_(4,"div",3),j(5,Ki,3,2,"app-appointment-item",4,Zi),m()()),t&2&&(O("other-month",!e.isCurrentMonth)("today",e.isToday),T("id",e.dayId)("cdkDropListData",e.appointments)("cdkDropListConnectedTo",e.connectedDayIds),f(3),A(e.date.getDate()),f(2),W(e.appointments))},dependencies:[$,ri,oi,ai,li,Ot],styles:[".day-container[_ngcontent-%COMP%]{border:1px solid #e0e0e0;height:100%;display:flex;flex-direction:column;background-color:#fff;transition:background-color .2s}.day-container.other-month[_ngcontent-%COMP%]{background-color:#f9f9f9;color:#9e9e9e}.day-container[_ngcontent-%COMP%]   .day-container[_ngcontent-%COMP%]{border:1px solid #e0e0e0;height:100%;display:flex;flex-direction:column;background-color:#fff;transition:background-color .2s ease}.day-container[_ngcontent-%COMP%]   .day-container.other-month[_ngcontent-%COMP%]{background-color:#f9f9f9;color:#9e9e9e}.day-container[_ngcontent-%COMP%]   .day-container.today[_ngcontent-%COMP%]{background-color:#e3f2fd}.day-container[_ngcontent-%COMP%]   .day-container[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.day-container[_ngcontent-%COMP%]   .day-header[_ngcontent-%COMP%]{padding:8px;border-bottom:1px solid #e0e0e0;display:flex;justify-content:center}.day-container[_ngcontent-%COMP%]   .day-number[_ngcontent-%COMP%]{font-weight:500;font-size:14px}.day-container[_ngcontent-%COMP%]   .appointments-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:4px;min-height:60px}.day-container[_ngcontent-%COMP%]   .cdk-drag-preview[_ngcontent-%COMP%]{box-shadow:0 5px 10px #0003;opacity:.8;z-index:9999!important}.day-container[_ngcontent-%COMP%]   .appointment-preview[_ngcontent-%COMP%]{padding:8px;border-radius:4px;background-color:#2196f3;color:#fff;font-weight:500;width:150px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;box-shadow:0 3px 6px #00000029,0 3px 6px #0000003b}.day-container[_ngcontent-%COMP%]   .appointment-placeholder[_ngcontent-%COMP%]{background:#ccc;border:dotted 1px #999;border-radius:4px;min-height:60px;transition:transform .25s cubic-bezier(0,0,.2,1)}.day-container[_ngcontent-%COMP%]   .cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.day-container[_ngcontent-%COMP%]   .cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.day-container[_ngcontent-%COMP%]   .cdk-drop-list-dragging[_ngcontent-%COMP%]   app-appointment-item[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.day-container[_ngcontent-%COMP%]   .cdk-drop-list-receiving[_ngcontent-%COMP%]{background-color:#2196f31a!important;border:2px dashed #2196f3!important}.day-container.today[_ngcontent-%COMP%]{background-color:#e3f2fd}.day-container[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.day-header[_ngcontent-%COMP%]{padding:8px;border-bottom:1px solid #e0e0e0;display:flex;justify-content:center}.day-number[_ngcontent-%COMP%]{font-weight:500;font-size:14px}.appointments-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:4px}.cdk-drag-preview[_ngcontent-%COMP%]{box-shadow:0 3px 6px #00000029,0 3px 6px #0000003b;opacity:.8;z-index:9999!important}.appointment-preview[_ngcontent-%COMP%]{padding:8px;border-radius:4px;background-color:#2196f3;color:#fff;font-weight:500;width:150px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:.3}.cdk-drag-animating[_ngcontent-%COMP%], .cdk-drop-list-dragging[_ngcontent-%COMP%]   .cdk-drag[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drop-list-receiving[_ngcontent-%COMP%]{background-color:#0080ff1a!important}"]})};var Qi=(s,i)=>i.date;function Ji(s,i){if(s&1&&(_(0,"div",6),v(1),m()),s&2){let t=i.$implicit;f(),ht(" ",t," ")}}function tn(s,i){if(s&1&&ct(0,"app-calendar-day",8),s&2){let t=i.$implicit;T("date",t.date)("appointments",t.appointments)("isCurrentMonth",t.isCurrentMonth)}}var fi=class s{dateService=c(Pt);calendarService=c(wt);router=c(mt);weekDays=[];calendarDays$;currentDate$;constructor(){this.weekDays=this.dateService.getWeekDays(),this.currentDate$=this.dateService.getCurrentDate(),this.calendarDays$=se([this.currentDate$,this.calendarService.appointments$]).pipe(it(([i,t])=>{let e=i.getFullYear(),n=i.getMonth();return this.dateService.getMonthDays(e,n).map(r=>{let a=t.filter(l=>{let d=new Date(l.startDate);return this.dateService.isSameDay(d,r)});return{date:r,appointments:a,isCurrentMonth:r.getMonth()===n}})}))}ngOnInit(){this.calendarDays$.subscribe(i=>{this.dateService.updateConnectedDayIds(i.map(t=>`day-${t.date.getFullYear()}-${t.date.getMonth()}-${t.date.getDate()}`))})}previousMonth(){this.currentDate$.pipe(I(1)).subscribe(i=>{let t=new Date(i);t.setMonth(t.getMonth()-1),this.dateService.setCurrentDate(t)})}nextMonth(){this.currentDate$.pipe(I(1)).subscribe(i=>{let t=new Date(i);t.setMonth(t.getMonth()+1),this.dateService.setCurrentDate(t)})}addAppointment(){this.router.navigate(["/appointment"])}static \u0275fac=function(t){return new(t||s)};static \u0275cmp=S({type:s,selectors:[["app-calendar-view"]],decls:21,vars:8,consts:[[1,"calendar-container"],[1,"calendar-header"],[1,"calendar-controls"],["mat-icon-button","",3,"click"],[1,"calendar-grid"],[1,"calendar-week-days"],[1,"week-day"],["id","all-days","cdkDropListGroup","",1,"calendar-days"],[3,"date","appointments","isCurrentMonth"]],template:function(t,e){if(t&1&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),w("click",function(){return e.previousMonth()}),_(4,"mat-icon"),v(5,"chevron_left"),m()(),_(6,"h2"),v(7),pt(8,"async"),pt(9,"async"),m(),_(10,"button",3),w("click",function(){return e.nextMonth()}),_(11,"mat-icon"),v(12,"chevron_right"),m()()()(),_(13,"div",4)(14,"div",5),j(15,Ji,2,1,"div",6,_e),m(),_(17,"div",7),j(18,tn,1,3,"app-calendar-day",8,Qi),pt(20,"async"),m()()()),t&2){let n;f(7),fe(" ",(n=_t(8,2,e.currentDate$))==null?null:n.getFullYear()," - ",e.dateService.getMonthName(((n=_t(9,4,e.currentDate$))==null?null:n.getMonth())||0)," "),f(8),W(e.weekDays),f(3),W(_t(20,6,e.calendarDays$))}},dependencies:[ft,ut,Dt,vt,Me,Mt,$,si,ye],styles:[".calendar-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:calc(100vh - 100px)}.calendar-container[_ngcontent-%COMP%]   .calendar-header[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:20px;padding:0 16px}.calendar-container[_ngcontent-%COMP%]   .calendar-header[_ngcontent-%COMP%]   .calendar-controls[_ngcontent-%COMP%]{display:flex;align-items:center}.calendar-container[_ngcontent-%COMP%]   .calendar-header[_ngcontent-%COMP%]   .calendar-controls[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 16px}.calendar-container[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;min-height:0}.calendar-container[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]   .calendar-week-days[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);background-color:#f5f5f5;border-bottom:1px solid #e0e0e0}.calendar-container[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]   .calendar-week-days[_ngcontent-%COMP%]   .week-day[_ngcontent-%COMP%]{text-align:center;font-weight:500;padding:12px}.calendar-container[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]   .calendar-days[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);grid-auto-rows:1fr;flex:1;min-height:0}"]})};export{fi as CalendarViewComponent};
